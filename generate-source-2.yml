# 2-dimensional array where each item has the following string elements:
#
# - feature name
# - directory "glob" pattern
#
# This can optionally be followed by a filtering rule--either:
#
# - an item with the literal value "files" followed by at least one file
#   pattern, or
# - an item with the literal value "tags" followed by at least one tag pattern
#
# Omitting a filtering rule implies that all files in the directory and its
# subdirectories are matches.
#
# Classification Guidelines:
# - Ignore the staging directory.

- ["with", "test/language/statements/with"]
# With statement identifier usage - tests that "with" can be used as an identifier
# in non-strict contexts, which is part of the with statement's language semantics
- [
    "with",
    "test/language/identifiers",
    "files",
    "val-with.js",
    "val-with-via-escape-hex.js",
    "val-with-via-escape-hex4.js",
  ]

# WeakSet constructor and all prototype methods (add, delete, has)
- ["weakset", "test/built-ins/WeakSet"]

# WeakSet subclassing tests - these verify that class inheritance syntax
# works correctly with WeakSet as a superclass and that instanceof
# relationships are preserved, which is part of the WeakSet feature's
# integration with the class system
- [
    "weakset",
    "test/language/(statements|expressions)/class/subclass-builtins",
    "files",
    "subclass-WeakSet.js",
  ]

# WeakRef constructor and prototype method (deref)
- ["weak-references", "test/built-ins/WeakRef"]

# WeakRef subclassing syntax tests
- [
    "weak-references",
    "test/language/(statements|expressions)/class/subclass-builtins",
    "files",
    "subclass-WeakRef.js",
  ]

# WeakMap constructor and all prototype methods (set, get, has, delete)
- ["weakmap", "test/built-ins/WeakMap"]

# WeakMap subclassing tests
- [
    "weakmap",
    "test/language/(statements|expressions)/class/subclass-builtins",
    "files",
    "subclass-WeakMap.js",
  ]
- ["weakmap", "test/language/statements/class/subclass/builtin-objects/WeakMap"]

# Unicode point escapes (\u{xxxxxx}) in identifiers - includes escape sequences
# for Unicode characters in identifier names and parts
- ["unicode-point-escapes", "test/language/identifiers", "files", "*escape*"]

# Unicode point escapes in string literals - tests for \u{xxxxxx} syntax
- [
    "unicode-point-escapes",
    "test/language/literals/string",
    "files",
    "*unicode*",
  ]

# Unicode point escapes in template literals - tests for \u{xxxxxx} syntax
- [
    "unicode-point-escapes",
    "test/language/expressions/template-literal",
    "files",
    "*unicode*",
  ]

# Unicode point escapes in regular expression literals - tests for \u{xxxxxx} syntax
- [
    "unicode-point-escapes",
    "test/language/literals/regexp",
    "files",
    "*unicode*",
  ]

# Unicode point escapes in RegExp built-ins - specific tests for \u{xxxxxx} in RegExp patterns
- [
    "unicode-point-escapes",
    "test/built-ins/RegExp",
    "files",
    "*unicode_restricted_identity_escape*",
  ]

# Uint8Array base64 conversion methods - fromBase64() static method
- ["uint8array-base64-hex", "test/built-ins/Uint8Array/fromBase64"]

# Uint8Array hex conversion methods - fromHex() static method
- ["uint8array-base64-hex", "test/built-ins/Uint8Array/fromHex"]

# Uint8Array base64 conversion prototype methods - toBase64() and setFromBase64()
- ["uint8array-base64-hex", "test/built-ins/Uint8Array/prototype/toBase64"]
- ["uint8array-base64-hex", "test/built-ins/Uint8Array/prototype/setFromBase64"]

# Uint8Array hex conversion prototype methods - toHex() and setFromHex()
- ["uint8array-base64-hex", "test/built-ins/Uint8Array/prototype/toHex"]
- ["uint8array-base64-hex", "test/built-ins/Uint8Array/prototype/setFromHex"]

# TypedArray constructor and prototype methods (shared functionality) and all typed array constructors
- ["typed-arrays", "test/built-ins/(TypedArray|TypedArrayConstructors)"]

# inferred from features/typed-array-iteration-methods.yml
- [
    "typed-array-iteration-methods",
    "**TypedArray**(every|filter|forEach|indexOf|lastIndexOf|map|reduce|reduceRight|some)**",
  ]

# TypedArray iterator methods - keys(), values(), entries(), and Symbol.iterator
- [
    "typed-array-iterators",
    "test/built-ins/TypedArray/prototype/(Symbol.iterator|keys|values|entries)**",
  ]

# ArrayIteratorPrototype tests specific to TypedArrays
- [
    "typed-array-iterators",
    "test/built-ins/ArrayIteratorPrototype/next",
    "files",
    "*Array.js",
    "detach-typedarray-in-progress.js",
  ]

# TypedArray.from iterator-related functionality
- ["typed-array-iterators", "test/built-ins/TypedArray/from", "files", "*iter*"]

# Top-level await core functionality and syntax
- ["top-level-await", "test/language/module-code/top-level-await"]

# Language tests tagged with top-level-await feature
- [
    "top-level-await",
    "test/language/(import|expressions|statements)",
    "tags",
    "top-level-await",
  ]

# Core Temporal built-ins - all Temporal objects and their methods
- ["temporal", "test/built-ins/Temporal"]

# Date.prototype.toTemporalInstant - method to convert Date to Temporal.Instant
- ["temporal", "test/built-ins/Date/prototype/toTemporalInstant"]

# Temporal internationalization support
- ["temporal", "test/intl402/Temporal"]

# Core template literal syntax and evaluation
- ["template-literals", "test/language/expressions/template-literal"]

# Annex B legacy features for template literals
- ["template-literals", "test/annexB/language/expressions/template-literal"]

# Language features tagged with template
- ["template-literals", "test/language", "tags", "template"]

# Core Symbol constructor and methods
- ["symbol", "test/built-ins/Symbol"]

# Symbol subclassing tests
- ["symbol", "test/language/statements/class/subclass/builtin-objects/Symbol"]

# All Symbol.* features in annexB tests
- ["symbol", "test/annexB", "tags", "Symbol"]

# Language features that use Symbol functionality
- ["symbol", "test/language", "tags", "Symbol"]

- ["string-wellformed", "**String/prototype/(isWellFormed|toWellFormed)"]

- ["string-trim-startend", "**String/prototype/(trimEnd|trimStart)"]

- ["string-startsends-with", "**String/prototype/(endsWith|startsWith)"]

# TODO: inferred from web-features/features/strings.yml
# - ["string"]

- ["string-replaceall", "**String/prototype/replaceAll"]

- ["string-repeat", "**String/prototype/repeat"]

- ["string-raw", "test/built-ins/String/raw"]

- ["string-pad", "**String/prototype/(padEnd|padStart)"]

- ["string-normalize", "test/built-ins/String/prototype/normalize"]

- ["string-matchall", "**String/prototype/matchAll"]

- ["string-includes", "test/built-ins/String/prototype/includes"]

- [
    "string-codepoint",
    "test/built-ins/String/prototype/(codePointAt|fromCodePoint)",
  ]

- ["string-at", "test/built-ins/String/prototype/at"]

- ["stable-array-sort", "test/built-ins/Array/prototype/sort/stability**"]

# Spread syntax in array literals, function & constructor calls - core functionality
- ["spread", "test/language/expressions/(array|call|new)/spread**"]

# Spread syntax in super() calls - core functionality
- ["spread", "test/language/expressions/super/call-spread-**"]

# Spread syntax in object literals - object spread
- ["spread", "test/language/expressions/object", "files", "object-spread-**"]

# SharedArrayBuffer constructor and all prototype methods (byteLength, grow, growable, maxByteLength, slice)
- ["shared-memory", "test/built-ins/SharedArrayBuffer"]

# All Atomics static methods - core atomic operations (add, and,
# compareExchange, exchange, load, store, sub, xor, or) and synchronization
# primitives (wait, waitAsync, notify, isLockFree, pause)
- ["shared-memory", "test/built-ins/Atomics"]

- [
    "set-methods",
    "test/built-ins/Set/prototype/(difference|intersection|union|symmetricDifference|isDisjointFrom|isSubsetOf|isSupersetOf)",
  ]

- ["proxy-reflect", "test/built-ins/(Proxy|Reflect)"]

- ["promise-withresolvers", "test/built-ins/Promise/withResolvers"]
