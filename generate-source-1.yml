# 2-dimensional array where each item has the following string elements:
#
# - feature name
# - directory "glob" pattern
#
# This can optionally be followed by a filtering rule--either:
#
# - an item with the literal value "files" followed by at least one file
#   pattern, or
# - an item with the literal value "tags" followed by at least one tag pattern
#
# Omitting a filtering rule implies that all files in the directory and its
# subdirectories are matches.
- [
    'arguments-callee',
    'test/language/arguments-object',
    'files',
    'S10.6_A1.js',
    'S10.6_A2.js',
    'S10.6_A3_T1.js',
    'S10.6_A3_T2.js',
    'S10.6_A3_T3.js',
    'S10.6_A3_T4.js',
    'S10.6_A4.js',
    'S10.6_A5_T1.js',
    'S10.6_A5_T2.js',
    'S10.6_A5_T3.js',
    'S10.6_A5_T4.js',
    'S10.6_A6.js',
    'S10.6_A7.js'
  ]
- ['arguments-callee', 'test/built-ins/ThrowTypeError']
- ['arguments-callee', 'test/language/expressions/delete', 'files', '11.4.1-4.a-11.js']
- ['arguments-callee', 'test/language/statements/class/strict-mode', 'files', 'arguments-callee.js']
- ['arguments-callee', 'test/language/statements/function', 'files', 'S13.2.2_A18_T*']

- [
    'array',
    'test/built-ins/Array',
    'files',
    '15.4.5*',
    'constructor.js',
    'is-a-constructor.js',
    'length.js',
    'name.js',
    'prop-desc.js',
    'property-cast-*',
    'S15.4*'
  ]
- [
    'array',
    'test/built-ins/Array/length',
    'files',
    'define-own-prop-length-error.js',
    'define-own-prop-length-overflow-order.js',
    '*15.4*'
  ]
- [
    'array',
    'test/built-ins/Array/prototype',
    'files',
    'constructor.js',
    'exotic-array.js',
    'length.js',
    'prop-desc.js'
  ]
- ['array', 'test/built-ins/Array/prototype/toLocaleString']
- ['array', 'test/built-ins/Array/prototype/toString']
- ['array', 'test/built-ins/Array/prototype/concat']
- ['array', 'test/built-ins/Array/prototype/join']
- ['array', 'test/built-ins/Array/prototype/pop']
- ['array', 'test/built-ins/Array/prototype/push']
- ['array', 'test/built-ins/Array/prototype/reverse']
- ['array', 'test/built-ins/Array/prototype/shift']
- ['array', 'test/built-ins/Array/prototype/slice']
- ['array', 'test/built-ins/Array/prototype/sort', 'tags', '!stable-array-sort']
- ['array', 'test/built-ins/Array/prototype/splice']
- ['array', 'test/built-ins/Array/prototype/unshift']
- ['array', 'test/built-ins/Array/prototype/indexOf']
- ['array', 'test/built-ins/Array/prototype/lastIndexOf']
- ['array', 'test/built-ins/Array/prototype/every']
- ['array', 'test/built-ins/Array/prototype/some']
- ['array', 'test/built-ins/Array/prototype/forEach']
- ['array', 'test/built-ins/Array/prototype/map']
- ['array', 'test/built-ins/Array/prototype/filter']
- ['array', 'test/built-ins/Array/prototype/reduce']
- ['array', 'test/built-ins/Array/prototype/reduceRight']

- ['array-copywithin', '**/copyWithin']
- ['array-fill', '**/fill']

  # Should include:
  # - test/built-ins/TypedArray/prototype/findIndex
  # - test/built-ins/TypedArray/prototype/find/BigInt
  # - test/built-ins/TypedArrayConstructors/prototype/find
  # Should NOT include:
  # - test/built-ins/Iterator/prototype/find
  # - test/built-ins/TypeArray/prototype/findLast
  #['array-find', '.*/(Array|TypedArray|TypedArrayConstructors)/.*/(find|findIndex)(/|$)']
- ['array-find', '**(Array|TypedArray|TypedArrayConstructors)**(find|findIndex)**']

  # Test262 maintains a "features" flag named `Array.prototype.includes`, but
  # is too expansive for this purpose--used to label tests that incidentally
  # rely on the API without meaningfully verifying its semantics (e.g.
  # `test/intl402/Intl/supportedValuesOf/collations.js`)
- ['array-includes', '**Array/prototype/includes**']

 # Description inadequate; inferred from source:
  # web-features/features/array-iteration-methods.yml
- ['array-iteration-methods', '**Array**(every|filter|forEach|indexOf|lastIndexOf|map|reduce|reduceRight|some)**']

- ['array-iterators', '**Array**(Symbol.iterator|entries|keys|values)**']
- ['array-splice', '**Array**splice**']

  # Should include
  # - test/annexB/built-ins/Array/from
  # - test/annexB/built-ins/TypedArrayConstructors/from
- ['array-from', '**(Array|TypedArray|TypedArrayConstructors)**from**']

- ['array-isarray', '**isArray**']
- ['array-of', '**(Array|TypedArray|TypedArrayConstructors)**of**']

- ['async-await', '**(async-function|async-arrow-function|async-method|async-method-static)**']
- ['async-await', '**await', 'tags', '!async-iteration']
- [
    'async-await',
    '**method-definition',
    'tags', 'async-functions', '!class-methods-private'
  ]

# Everything involving async generators in
# test/language/expressions/class/elements and
# test/language/statements/class/elements is for class fields
- ['async-generators', 'test/language/expressions/async-generator']
- ['async-generators', 'test/language/expressions/class/async-gen-method']
- ['async-generators', 'test/language/expressions/class/async-gen-method-static']
- ['async-generators', 'test/language/statements/async-generator']
- ['async-generators', 'test/language/statements/class/async-gen-method']
- ['async-generators', 'test/language/statements/class/async-gen-method-static']
- ['async-generators', 'test/language/expressions/await', 'tags', 'async-iteration']
- ['async-generators', 'test/language/block-scope/syntax/redeclaration', 'tags', 'async-iteration']
- [
    'async-generators',
    'test/language/expressions/class/dstr',
    'tags',
    'async-iteration',
  ]
- [
    'async-generators',
    'test/language/expressions/object/dstr',
    'tags',
    'async-iteration',
  ]
- [
    'async-generators',
    'test/language/expressions/object/method-definition ',
    'tags',
    'async-iteration',
    '!class-methods-private'
  ]
- [
    'async-generators',
    'test/language/expressions/class/elements/syntax/valid/',
    'tags',
    'async-iteration',
    '!class-static-methods-private'
  ]
- [
    'async-generators',
    'test/language/expressions/class/elements/syntax/early-errors',
    'tags',
    'async-iteration',
    '!class-methods-private',
    '!class-static-methods-private'
  ]
- ['async-iterators', 'test/built-ins/AsyncIteratorPrototype/Symbol.asyncIterator']
- [
    'async-iterators',
    'test/language/statements/for-await-of',
    'tags',
    '!explicit-resource-management'
  ]
- ['atomics-wait-async', 'test/built-ins/Atomics/waitAsync']

# TODO(jugglinmike): figure out why `bigint` was omitted in the initial scrape
#- ['bigint', 'test/built-ins/BigInt']
#- ['bigint', 'test/language/literals/bigint']
- ['bigint64array', 'test/built-ins/TypedArrayConstructors/BigInt64Array']
- ['bigint64array', 'test/built-ins/TypedArrayConstructors/BigUint64Array']

# TODO(jugglinmike): finish classifying class-syntax
  #- [
  #    'class-syntax',
  #    'test/language/statements/class/',
  #    'tags',
  #    '!top-level-await',
  #    '!exponentiation',
  #    '!logical-assignment-operators',
  #    '!class-static-methods-private',
  #    '!class-methods-private',
  #    '!class-fields-private',
  #    '!class-fields-public',
  #    '!class-static-fields-public',
  #    '!class-static-block'
  #  ]
  #- ['class-syntax', 'test/language/statements/class/name-binding']

# TODO(jugglinmike): figure out why `date` was omitted in the initial scrape
#- ['date', 'test/built-ins/Date']

- ['date-get-year-set-year', 'test/annexB/built-ins/Date/prototype/getYear']
- ['date-get-year-set-year', 'test/annexB/built-ins/Date/prototype/setYear']

- ['destructuring', 'test/language/destructuring']
- ['destructuring', 'test/language/expressions/assignment/destructuring']
- ['destructuring', 'test/language/destructuring/binding/']
- ['destructuring', 'test/language/expressions/arrow-function/dstr/']
- ['destructuring', 'test/language/expressions/assignment/dstr/']
- ['destructuring', 'test/language/expressions/function/dstr/']
- ['destructuring', 'test/language/expressions/object/']
- ['destructuring', 'test/language/expressions/object/dstr/']
- ['destructuring', 'test/language/rest-parameters/']
- ['destructuring', 'test/language/statements/class/dstr/']
- ['destructuring', 'test/language/statements/class/elements/syntax/early-errors/']
- ['destructuring', 'test/language/statements/for/dstr/']
- ['destructuring', 'test/language/statements/for-in/dstr/']
- ['destructuring', 'test/language/statements/for-of/dstr/']
- ['destructuring', 'test/language/statements/function/dstr/']
- ['destructuring', 'test/language/statements/try/dstr/']
- ['destructuring', 'test/language/statements/variable/dstr/']

- ['escape-unescape', 'test/annexB/built-ins/escape']
- ['escape-unescape', 'test/annexB/built-ins/unescape']

- ['exponentiation', 'test/language/expressions/exponentiation', 'tags', '!BigInt']

- ['float16array', 'test/built-ins/DataView/prototype/getFloat16']
- ['float16array', 'test/built-ins/DataView/prototype/setFloat16']
- ['float16array', 'test/built-ins/Math/f16round']
# All typed array constructors are testted in parallel. It's not clear whether
# it's better to include them (and risk false negatives) or exclude them (and
# risk false positives)
- ['float16array', 'test/built-ins/TypedArray']
- ['float16array', 'test/built-ins/TypedArrayConstructors']

- [
    'functions',
    'test/language/expressions/function',
    'tags',
    '!generators',
    '!class-fields-private',
    '!class-static-block'
  ]
- [
    'functions',
    'test/language/statements/function',
    'tags',
    '!generators',
    '!class-fields-private',
    '!class-static-block'
  ]
- [
    'functions',
    'test/built-ins/Function',
    'tags',
    '!class-fields-private',
    '!Proxy',
    '!class',
    '!Reflect',
    '!resizable-arraybuffer',
    '!Reflect.construct',
    '!arrow-function',
    '!Symbol.hasInstance',
    '!generators',
    '!class-methods-private',
    '!class-static-methods-private',
    '!async-iteration'
  ]

- [
    'functions-caller-arguments',
    'test/built-ins/Function',
    'files',
    '15.3.5*',
    'StrictFunction_restricted-properties.js'
  ]
- [
    'functions-caller-arguments',
    'test/built-ins/Function/prototype/bind',
    'files',
    '15.3.4.5-20-*',
    '15.3.4.5-21-*',
    'BoundFunction_restricted-properties.js',
    'S15.3.4.5_A1.js',
    'S15.3.4.5_A2.js'
  ]

- [
    'generators',
    'test/language/expressions/generators',
    'tags',
    '!class-static-block'
  ]
- ['generators', 'test/language/statements/generators']
- [
    'generators',
    'test/language/expressions/object/method-definition',
    'tags',
    'generators'
  ]
- ['generators', 'test/built-ins/GeneratorFunction']
- ['generators', 'test/built-ins/GeneratorPrototype']
